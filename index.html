<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="A simple library designed for rapid bot and scraper development using Selenium and the POM (Page Object Model) design." /><meta name="author" content="Uberti Davide" /><link rel="canonical" href="https://github.com/ubertidavide/fastbots/" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>fastbots</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "fastbots";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = "/ubertidavide/fastbots/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> fastbots
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href=".">fastbots</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#showcase">Showcase</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#main-code">Main Code</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#locators-file">Locators File</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#settings">Settings</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#browser-and-drivers">Browser and Drivers</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#retry-and-debug">Retry and Debug</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#page-url-check">Page Url Check</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#strict-page-check-default">Strict Page Check (Default)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#disabled-strict-page-check">Disabled Strict Page Check</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#file-download">File Download</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#strict-download-wait-default">Strict Download Wait (Default)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#disabled-strict-download-wait">Disabled Strict Download Wait</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#wait-managment">Wait Managment</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#proxy-rotating-proxies-tor-web-unlocker-support">Proxy, Rotating Proxies, Tor, Web Unlocker Support</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#captcha-solvers">CAPTCHA Solvers</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#user-agent">User Agent</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#arguments-and-profiles">Arguments and Profiles</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#firefox-args">Firefox args</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#chrome-args">Chrome args</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#store-preferences">Store Preferences</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#firefox-prefs">Firefox prefs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#chrome-prefs">Chrome prefs</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cookies-managment">Cookies Managment</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#interceptor">Interceptor</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#response-interceptor">Response Interceptor</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#request-interceptor">Request Interceptor</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#references">References</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">References</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="reference/task/">Task</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="reference/page/">Page</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Bot</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="reference/bot/">Bot</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="reference/firefox_bot/">Firefox</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="reference/chrome_bot/">Chrome</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="reference/payload/">Payload</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="reference/config/">Config</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">fastbots</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">fastbots</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="fastbots">fastbots</h1>
<p><a href="https://ubertidavide.github.io/fastbots/">Fastbots</a> is a simple library designed for rapid bot and scraper development using Selenium and the POM (Page Object Model) design.<br />
It enhances productivity by allowing developers to focus solely on scraping, reducing boilerplate code, and eliminating the need for direct driver management-related code, thanks to browser-independent settings.<br />
Even if site locators change, this library doesn't require modifications to the code; adjustments can be made solely in the configuration.</p>
<p>fastbots is also fully compatible with all selenium functions, refer to <a href="https://www.selenium.dev/documentation/webdriver/elements/interactions/">selenium official documentation</a> for more details.</p>
<h2 id="installation">Installation</h2>
<p>The installation process is straightforward using pip from the PyPI repository.</p>
<pre><code class="language-bash">pip install fastbots
</code></pre>
<h2 id="showcase">Showcase</h2>
<p>Check out the full template example at <a href="https://github.com/ubertidavide/cookiecutter-fastbots">cookiecutter-fastbots</a>, improve the development speed with this ready to use template, reducing the boilerplate code.</p>
<h3 id="main-code">Main Code</h3>
<p>Here's the main code example:</p>
<pre><code class="language-python"># main.py
# Import the logging module to handle logging in the script
import logging

# Import necessary classes and modules from the fastbots library
from fastbots import Task, Bot, Page, Payload, EC, WebElement, Keys, ActionChains, Select, Alert, TimeoutException, NoSuchElementException

# Define a ProductPage class, which is a subclass of the Page class
class ProductPage(Page):

    # Constructor to initialize the ProductPage instance
    # The page_name is used in the locators file; default is 'product_page'
    def __init__(self, bot: Bot, page_name: str = 'product_page'):
        super().__init__(bot, page_name)

    # Define the forward method for navigating to the next page
    def forward(self) -&gt; None:
        # Log information about the current action
        logging.info('DO THINGS')

        # Use locators specified in the file for flexibility and less code changes
        # name_element: WebElement = self.bot.driver.find_element(*self.__locator__('name_locator'))
        #name_element: WebElement = self.bot.wait.until(EC.element_to_be_clickable(self.__locator__('name_locator')))

        # Store data in the payload section for future retrieval on success
        #self.bot.payload.input_data['element_name'] = name_element.text

        # example of downloading the product png images and rename it (check download folder settings)
        # name_element.click() for example on element download button
        # self.bot.wait_downloaded_file_path(&quot;png&quot;, new_name_file=self.bot.payload.input_data['element_name'])
        # it will put the download path in the payload.downloads datastore class when downloaded and renamed

        # End the chain of page interactions
        return None

# Define a SearchPage class, which is a subclass of the Page class
class SearchPage(Page):

    # Constructor to initialize the SearchPage instance
    # The page_name is used in the locators file; default is 'search_page'
    def __init__(self, bot: Bot, page_name: str = 'search_page'):
        super().__init__(bot, page_name)

    # Define the forward method for navigating to the next page (ProductPage)
    def forward(self) -&gt; ProductPage:
        # Log information about the current action
        logging.info('DO THINGS')

        # Use locators specified in the file for flexibility and less code changes
        search_element: WebElement = self.bot.wait.until(EC.element_to_be_clickable(self.__locator__('search_locator')))

        # Enter a search query and submit (using the loaded data in the task)
        search_element.send_keys(self.bot.payload.input_data['element_name'])
        search_element.send_keys(Keys.ENTER)

        # Locate the product element and click on it
        #product_element: WebElement = self.bot.wait.until(EC.element_to_be_clickable(self.__locator__('product_locator')))
        #product_element.click()

        # Continue the chain of interaction on the next page (ProductPage)
        return ProductPage(bot=self.bot)

# Define a TestTask class, which is a subclass of the Task class
class TestTask(Task):

    # Main task code to be executed when running the script
    def run(self, bot: Bot) -&gt; bool:
        # Log information about the current action
        logging.info('DO THINGS')

        # load all needed data in the pages interactions (es. login password loaded from a file using pandas)
        bot.payload.input_data = {'username': 'test', 'password': 'test', 'element_name': 'My book'}

        # Open the search page, perform actions, and go forward
        page: Page = SearchPage(bot=bot)

        # For every page found, perform actions and go forward
        while page:
            page = page.forward()

        # For default, the task will succeed
        return True

    # Method executed on bot success, with its payload
    def on_success(self, payload: Payload):
        logging.info(f'SUCCESS {payload.downloads}')

    # Method executed on bot failure
    def on_failure(self, payload: Payload):
        logging.info(f'FAILED {payload.output_data}')

# Check if the script is executed as the main program
if __name__ == '__main__':
    # Start the above TestTask
    TestTask()()
</code></pre>
<p><strong>Attention</strong>: This framework is flexible, you could also use only the Task class and the selenium's related functions inside the run method without using the POM (Page Object Model) or develop specific pages flow depending on your needs.</p>
<h3 id="locators-file">Locators File</h3>
<p>In the locators configuration file <code>locators.ini</code>, all required locator configurations are defined.<br />
This can be easily changed without rebuilding or making modifications to the code.<br />
It provides a structured and well-known way of managing page locators and urls, useful for scalability in big projects.</p>
<pre><code class="language-ini"># locators.ini
[pages_url] # pages_url required url settings
start_url=https://www.amazon.com/ #start_url it's the first page driver.get() could be also None
search_page=https://www.amazon.com/ #*_page it's the first page url used for the page_name parameter with it's url that need to match
product_page=None#Used to skip the page_url check of the current url on a single page

[search_page] #*_page first page_name parameter, with it's related locators
search_locator=(By.ID, &quot;twotabsearchtextbox&quot;)
product_locator=(By.XPATH, '//*[@id=&quot;search&quot;]/div[1]/div[1]/div/span[1]/div[1]/div[2]')

[product_page]#*_page second page_name parameter, with it's related locators
name_locator=(By.ID, &quot;title&quot;)
</code></pre>
<h2 id="settings">Settings</h2>
<h3 id="browser-and-drivers">Browser and Drivers</h3>
<p>For default configuration, the selected browser is Firefox, but it could be changed from the <code>settings.ini</code> file:</p>
<pre><code class="language-ini"># settings.ini
[settings]
#BOT_DRIVER_TYPE=FIREFOX
BOT_DRIVER_TYPE=CHROME
</code></pre>
<p><strong>The correct browser installed for the driver selected is required</strong>.
The browser installation path is autodetected by system environment variables, and the driver download process and its related installation path settings are managed automatically.</p>
<h3 id="retry-and-debug">Retry and Debug</h3>
<p>By default, every task will be retried 2 times, waiting for 10 seconds. If all two attempts fail, the task executes the <code>on_error</code> method; otherwise, if the <code>run</code> fuction will <code>return True</code>, then it will be executed the <code>on_success</code> method.<br />
This behaviour could be modified in the settings file:</p>
<pre><code class="language-ini"># settings.ini
[settings]
BOT_MAX_RETRIES=2 #sec default
BOT_RETRY_DELAY=10 #sec default
</code></pre>
<p>When the task fails, the library stores the screenshot and the HTML of the page in the debug folder, useful for debugging.  </p>
<pre><code class="language-ini"># settings.ini
[settings]
BOT_SCREENSHOT_DOWNLOAD_FOLDER_PATH='/debug' # default
BOT_HTML_DOWNLOAD_FOLDER_PATH='/debug' # default
</code></pre>
<p>It will also store all the logs in the <code>log.log</code> file.</p>
<h3 id="page-url-check">Page Url Check</h3>
<h4 id="strict-page-check-default">Strict Page Check (Default)</h4>
<p>During the navigation the driver goes througth different pages, in every pages initialization, in the default behaviour, the url of the browsers and the specified url of the page setted in the <code>locators.ini</code> are cheched.<br />
There is also the possibility to change the <code>page_url</code> check type from <code>strict_page_url</code> (exact match), with the current url that need to contains the page url, setting <code>strict_page_url=False</code>, in the page <code>__init__</code> method after the page name.</p>
<h4 id="disabled-strict-page-check">Disabled Strict Page Check</h4>
<p>This check could be disabled globally setting <code>SELENIUM_EXPECTED_URL_CHECK</code> to <code>False</code> or on a specific page in the <code>locators.ini</code> file, at the <code>[page_url]</code> section, setting <code>page_name=None</code>.</p>
<pre><code class="language-ini"># settings.ini
[settings]
SELENIUM_EXPECTED_URL_CHECK=False #disable the automatic page url check, the default value it's True
</code></pre>
<h3 id="file-download">File Download</h3>
<p>Specify the path used to store the downloaded files.</p>
<pre><code class="language-ini"># settings.ini
[settings]
BOT_DOWNLOAD_FOLDER_PATH='/usr/...' #override the default download path used for the browser
</code></pre>
<h4 id="strict-download-wait-default">Strict Download Wait (Default)</h4>
<p>This library has the <code>bot.wait_downloaded_file_path(file_extension, new_name_file=None)</code> method that could be used after a click on a file download button, to wait and get the path of the downloaded file.<br />
It will give also the ability to rename the file.<br />
The file extension is used to check that the downloaded file is correct and not corrupted.<br />
It's the default behaviour, all the downloaded file need to be waited to be moved to download folder, to change this, disable strict download wait in the config, see the next section.</p>
<h4 id="disabled-strict-download-wait">Disabled Strict Download Wait</h4>
<p>At the end of the <code>run</code> Task method all the downloaded files are moved to the download folder.</p>
<pre><code class="language-ini"># settings.ini
[settings]
BOT_STRICT_DOWNLOAD_WAIT=True #default, False -&gt; all the downloaded file are move to download folder always without wait check
</code></pre>
<h3 id="wait-managment">Wait Managment</h3>
<p>The default configured waits are shown below:</p>
<ul>
<li>
<p><code>SELENIUM_GLOBAL_IMPLICIT_WAIT</code>: The global <a href="https://selenium-python.readthedocs.io/waits.html#implicit-waits">implicit</a> wait.</p>
</li>
<li>
<p><code>SELENIUM_EXPECTED_URL_TIMEOUT</code>: The automatic waited time for the URL check to match a specific condition, done when the page is initialized.  </p>
</li>
<li>
<p><code>SELENIUM_DEFAULT_WAIT</code>: The default waited time used by the <code>bot.wait</code> function (A WebDriverWait ready to use).</p>
</li>
<li>
<p><code>SELENIUM_FILE_DOWNLOAD_TIMEOUT</code>: The default waited file download time used by the <code>bot.wait_downloaded_file_path()</code></p>
</li>
</ul>
<pre><code class="language-ini"># settings.ini
[settings]
SELENIUM_GLOBAL_IMPLICIT_WAIT=5 #sec default
SELENIUM_EXPECTED_URL_TIMEOUT=5 #sec default
SELENIUM_DEFAULT_WAIT=5 #sec default
SELENIUM_FILE_DOWNLOAD_TIMEOUT=20 #sec default
</code></pre>
<h3 id="proxy-rotating-proxies-tor-web-unlocker-support">Proxy, Rotating Proxies, Tor, Web Unlocker Support</h3>
<p>Configure the proxy settings, you could proxy to a specific IP:</p>
<pre><code class="language-ini"># settings.ini
# '&lt;proxy_protocol&gt;://&lt;username&gt;:&lt;password&gt;@&lt;proxy_ip_address&gt;:&lt;proxy_port&gt;'
[settings]
BOT_PROXY_ENABLED=True
BOT_HTTP_PROXY=127.0.0.1:8080
BOT_HTTPS_PROXY=127.0.0.1:8080
</code></pre>
<p>or even to a paid proxy service like <a href="https://brightdata.com/proxy-types/residential-proxies">Brightdata</a>, <a href="https://oxylabs.io/products/residential-proxy-pool">Oxylabs</a>, <a href="https://netnut.io/rotating-residential-proxies/">Netnut</a> that let you connect throught different IPs and help bypass CAPTCHA with the web unlocker solution, <a href="https://www.torproject.org/">Tor</a> to acess hidden services.</p>
<p>Example using Oxylabs rotating proxies:</p>
<pre><code class="language-ini"># settings.ini Oxyslab
# 'http://{username}:{password}@{proxy}'
[settings]
BOT_PROXY_ENABLED=True
BOT_HTTP_PROXY=http://customer-USER:PASS@pr.oxylabs.io:7777
BOT_HTTPS_PROXY=http://customer-USER:PASS@pr.oxylabs.io:7777
</code></pre>
<p><strong>Attention</strong> : All your data will pass through the proxy, check that the proxy is a trusted source before you use them.</p>
<h3 id="captcha-solvers">CAPTCHA Solvers</h3>
<p>By default, this library integrate <a href="https://docs.capsolver.com/guide/getting-started">capsolver</a> service, this provide the possibility to bypass an high number of different CAPTCHAs (es: <a href="https://www.google.com/recaptcha/about/">reCAPTCHA</a> and <a href="https://www.hcaptcha.com/">HCaptcha</a>).</p>
<p>An example code:</p>
<pre><code class="language-python">from fastbots import capsolver

solution = capsolver.solve({
        &quot;type&quot;:&quot;ReCaptchaV2TaskProxyLess&quot;,
        &quot;websiteKey&quot;:&quot;6Le-wvkSAAAAAPBMRTvw0Q4Muexq9bi0DJwx_mJ-&quot;,
        &quot;websiteURL&quot;:&quot;https://www.google.com/recaptcha/api2/demo&quot;,
    })

print(solution)
</code></pre>
<p>Specify your API Key in the settings.</p>
<pre><code class="language-ini"># settings.ini
[settings]
CAPSOLVER_API_KEY=&quot;my-api-key&quot;
</code></pre>
<p>For more and detailed capabilities see <a href="https://docs.capsolver.com/guide/getting-started">capsolver</a> official docs.</p>
<h3 id="user-agent">User Agent</h3>
<p>Configure the user agent used for the requests, for default it will be fastbots.</p>
<pre><code class="language-ini"># settings.ini
[settings]
BOT_USER_AGENT=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36&quot;
</code></pre>
<p>For more or specific user agents see <a href="https://www.useragents.me/">this list</a>.</p>
<h3 id="arguments-and-profiles">Arguments and Profiles</h3>
<p>Configure Firefox Arguments, store them in the config file. The format is the same for all the supported drivers; check carefully that the exact arg is implemented for the selected driver.<br />
Arguments are also used to load specific profiles already created, see driver related docs <a href="https://support.mozilla.org/en-US/kb/profile-manager-create-remove-switch-firefox-profiles">Firefox Profile Manager</a>, <a href="https://support.mozilla.org/en-US/kb/profiles-where-firefox-stores-user-data">Firefox Profile</a>, <a href="https://support.google.com/chrome/answer/2364824">Chrome Profile</a></p>
<h4 id="firefox-args">Firefox args</h4>
<pre><code class="language-ini"># settings.ini
[settings]
BOT_ARGUMENTS=&quot;-headless, -profile ./selenium&quot;
</code></pre>
<p>For a detailed list of all supported args check <a href="https://wiki.mozilla.org/Firefox/CommandLineOptions">Firefox Args</a></p>
<h4 id="chrome-args">Chrome args</h4>
<pre><code class="language-ini"># settings.ini
[settings]
BOT_ARGUMENTS=&quot;--headless, --disable-gpu, --no-sandbox, --user-data-dir=./selenium, --profile-directory=selenium&quot;
</code></pre>
<p>For a detailed list of all supported args check <a href="https://peter.sh/experiments/chromium-command-line-switches/">Chromium Args</a>.</p>
<h3 id="store-preferences">Store Preferences</h3>
<p>Store preferences in a JSON file, the format is the same for all the supported drivers; check carefully that the exact string and value are implemented for the selected driver.</p>
<h4 id="firefox-prefs">Firefox prefs</h4>
<pre><code class="language-jsonc">// preferences.json
{
  &quot;browser.download.manager.showWhenStarting&quot;: false, // Don't show download
  &quot;browser.helperApps.neverAsk.saveToDisk&quot;: &quot;application/pdf&quot;, // Automatic save PDF files
  &quot;pdfjs.disabled&quot;: true // Don't show the pdf
}
</code></pre>
<p>For a detailed list of all supported prefs check <a href="https://searchfox.org/mozilla-release/source/browser/app/profile/firefox.js">Firefox Profile Prefs</a> and <a href="https://searchfox.org/mozilla-release/source/modules/libpref/init/all.js">Firefox All Prefs</a></p>
<h4 id="chrome-prefs">Chrome prefs</h4>
<pre><code class="language-jsonc">// preferences.json
{
  &quot;profile.default_content_setting_values.notifications&quot;: 2, // Disable notifications
  &quot;profile.default_content_settings.popups&quot;: 0 // Allow popups
}
</code></pre>
<p>For a detailed list of all supported prefs check <a href="https://src.chromium.org/viewvc/chrome/trunk/src/chrome/common/pref_names.cc?view=markup">Chrome Prefs</a></p>
<h3 id="cookies-managment">Cookies Managment</h3>
<p>There is also the possibility to load <code>bot.load_cookies()</code> and store <code>bot.save_cookies()</code> cookies from file.</p>
<pre><code class="language-ini"># settings.ini
[settings]
BOT_COOKIES_FILE_PATH=cookies.pkl #default
</code></pre>
<h3 id="interceptor">Interceptor</h3>
<p>This library integrate also the selenium-wire capabilities, traffic capture is disabled by default.</p>
<pre><code class="language-ini"># settings.ini
[settings]
# enable capture
SELENIUM_DISABLE_CAPTURE=False
# capture only in scope requests and response (comma separated list of domains)
SELENIUM_IN_SCOPE_CAPTURE='.*stackoverflow.*, .*github.*'
# enalbe HAR capture
SELENIUM_ENABLE_HAR_CAPTURE=True
</code></pre>
<h4 id="response-interceptor">Response Interceptor</h4>
<pre><code class="language-python">def interceptor(request, response):  # A response interceptor takes two args
    # add a header to some domain
    if request.url == 'https://server.com/some/path':
        response.headers['New-Header'] = 'Some Value'

bot.driver.response_interceptor = interceptor
</code></pre>
<h4 id="request-interceptor">Request Interceptor</h4>
<pre><code class="language-python">def interceptor(request): # A response interceptor take one args

    # Block PNG, JPEG and GIF images
    if request.path.endswith(('.png', '.jpg', '.gif')):
        request.abort()

    # add parameter
    params = request.params
    params['foo'] = 'bar'
    request.params = params

bot.driver.request_interceptor = interceptor
</code></pre>
<p>See <a href="https://github.com/wkeeling/selenium-wire">selenium-wire</a> docs for more detailed use cases.</p>
<h3 id="references">References</h3>
<p><a href="https://ubertidavide.github.io/fastbots/">Fastbots docs</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="reference/task/" class="btn btn-neutral float-right" title="Task">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
      <span><a href="reference/task/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>

<!--
MkDocs version : 1.5.3
Build Date UTC : 2024-01-05 14:37:51.808451+00:00
-->
